# 📋 김프 전략 개요 (Strategy Overview)

## 1. 전략 배경

### 1.1 기존 김프매매의 한계

기존의 김프매매(보따리 장사)는 해외 거래소에 자본을 옮겨 김프일 때 팔아 그 차익을 먹는 방식입니다.

**문제점:**
- 외환거래법 규제
- 해외 계좌 개설 복잡
- 법인 설립 필요 (큰 금액 시)
- 국가 단위 검열 (자금 소명)
- 김프 10%~15% 이상이 아니면 리스크 대비 수익률 낮음

### 1.2 선현물 차익거래 해결책

**핵심 아이디어:**
- 한국 현물 매수 + 미국 선물 매도
- 자금 유통을 각자의 계좌에서 수행
- **실질적인 자금 유통 없이 동일한 효과**

```
┌─────────────────────────────────────────────────────┐
│                    델타 중립 헤지                     │
├─────────────────────────────────────────────────────┤
│                                                     │
│   업비트 (현물)          바이낸스 (선물)             │
│   ┌──────────┐          ┌──────────┐               │
│   │  BTC 롱  │    ↔     │  BTC 숏  │               │
│   │ (매수)   │          │ (매도)   │               │
│   └──────────┘          └──────────┘               │
│                                                     │
│   가격 상승 → 이익        가격 상승 → 손실           │
│   가격 하락 → 손실        가격 하락 → 이익           │
│                                                     │
│   ═══════════════════════════════════════════════   │
│   방향성 리스크 = 0 (상쇄)                           │
│   수익원 = 김프(스프레드) 변동                        │
└─────────────────────────────────────────────────────┘
```

## 2. 전략 선택 이유

### 2.1 기존 단순 로직의 한계

처음 김프매매는 단순하게 **0.5% 매수, 2.5% 매도**로 설정만 하면 되었습니다.

**문제:**
- 시장 변화에 따라 2.5%까지 김프가 도달하는 일이 거의 없음
- 과거에는 김프가 최대 60%까지 갔지만, 차익거래자 증가로 비효율성 감소

### 2.2 관찰 결과

지속적인 관찰 결과:
- **0.5%~0.8% 수익으로도 월 30회 이상 기회** 포착
- 4천만원 기준, 하루 1회 약 **14~15만원 수익** 확인
- 단, 적절한 타이밍에 매도하기 어려움 (자는 동안 기회 소실)

### 2.3 최종 목표

**비효율성 포착이 핵심**
- 김프 스프레드 차트는 일반적인 차트와 달리 순간적으로 변동
- 현물, 선물, 환율 세 가지 요소의 영향 → 기회 다양

## 3. 핵심 문제점: 환율 오차

### 3.1 환율 오차 발생

| 환율 타임프레임 | 오차 범위 |
|:---|:---|
| 1일봉 | 0.16% ~ 1.0% |
| 1분봉 | ~0.05% |

### 3.2 수익 시뮬레이션

**목표 수익: 0.8%**

```
수수료: 0.38%
슬리피지: 0.1%
환율 오차: 0.16% ~ 1.0%
─────────────────────
총 비용: 0.64% ~ 1.48%

순수익: 0.8% - 0.64% = 0.16% (최선)
순수익: 0.8% - 1.48% = -0.68% (최악)
```

### 3.3 해결책

1. **짧은 타임프레임 (1분)** - 환율 오차 최소화
2. **긴 타임프레임 (1일)** - 충분히 큰 김프만 노림

**선택: 1분 타임프레임으로 환율 오차 0.05% 이하 유지**

## 4. 전략 작동 방식

### 4.1 실시간 모니터링

```
1분마다 수집:
├── 업비트 BTC/KRW 가격
├── 바이낸스 BTC/USDT 가격
└── 환율 (USD/KRW)
```

### 4.2 통계적 신호 감지

```
Z-Score 계산:
├── 20기간 이동평균 (SMA)
├── 20기간 표준편차 (σ)
└── Z = (현재김프 - μ) / σ
```

### 4.3 분할 진입

| 조건 | 액션 | 비중 |
|:---|:---|:---|
| Z ≤ -2.0 → Z > -2.0 | Level 1 진입 | 40% |
| Z ≤ -2.5 → Z > -2.5 | Level 2 추가 | 60% |
| 급락 (직행) | 전량 진입 | 100% |

### 4.4 청산 조건

- **목표 수익률 도달 시 전량 청산**
- Level 1만: 0.5%
- Level 2만: 0.75%
- 합산: 0.7%

## 5. 영향 요소

| 요소 | 영향도 | 설명 |
|:---|:---|:---|
| **환율** | ★★★★★ | 가장 중요, 1분봉 필수 |
| **현물 가격** | ★★★☆☆ | 업비트 유동성 |
| **선물 가격** | ★★★☆☆ | 바이낸스 펀딩비 |
| **거래량** | ★★☆☆☆ | 슬리피지 영향 |

---

**다음 문서**: [STRATEGY_SPEC.md](./STRATEGY_SPEC.md) - 상세 기술 명세
